<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Oceniaczka</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/htmx.org@1.8.5" integrity="sha384-7aHh9lqPYGYZ7sTHvzP1t3BAfLhYSTy9ArHdP3Xsr9/3TlGurYgcPBoFmXX2TX/w" crossorigin="anonymous"></script>
    <script type="text/javascript" src="https://alcdn.msauth.net/lib/1.1.3/js/msal.js"></script>
    <script type="text/javascript" src="static/authConfig.js"></script>
    <script type="text/javascript" src="static/authPopup.js"></script>
    <script>
        function getCookie(name) {
            const value = `; ${document.cookie}`;
            const parts = value.split(`; ${name}=`);
            if (parts.length === 2) return parts.pop().split(';').shift();
        }
        XMLHttpRequest.prototype.open = (function(open) {
            return function(method,url,async) {
                open.apply(this,arguments);
                this.setRequestHeader('Authorization', getCookie("Authorization"));
        };
        })(XMLHttpRequest.prototype.open);
    </script>
</head>
<body>
    {% include 'navbar.html' %}
    <div class="mx-4">
        <p class="text-2xl font-bold mb-4">Lista kandydatów do oceny</p>
        <table class="min-w-[50%] mb=4">
            <thead class="border-b text-lg">
                <tr>
                    <th class="border">Imię</th>
                    <th class="border">Nazwisko</th>
                </tr>
            </thead>
            <tbody class="text-center text-sm" id="applicants-list">
                {% include 'applicants.html' %}
            </tbody>
        </table>
        <button
            class="px-3 py-1 bg-blue-600 text-white ml-4"
            hx-get="/"
            hx-target="#applicants-list"
            hx-swap="beforeend"
        >
            Załaduj więcej
        </button>

    </div>
</body>
</html>